---
title: 'Konfiguracja Å›rodowiska'
description: 'Dokumentacja ta przedstawia kompletny proces konfiguracji Å›rodowiska deweloperskiego dla systemu ATP. PostÄ™puj zgodnie z instrukcjami, aby poprawnie skonfigurowaÄ‡ projekt.'
category: 'Development'
version: '1.0.0'
lastUpdated: '2025-05-28'
createdAt: '2025-04-18'
author: 'ATP System Team'
requiredRole: ['developer', 'admin']
icon: 'i-heroicons-cube'
status: 'published'
difficulty: 'intermediate'
readingTime: 20
docType: 'guide'
navigation:
  title: 'Konfiguracja Å›rodowiska'
  icon: 'i-heroicons-cube'
  order: 2
  group: 'Techniczne'
seo:
  title: 'Konfiguracja Å›rodowiska - Przewodnik ATP System'
  description: 'Kompletny przewodnik konfiguracji Å›rodowiska deweloperskiego ATP System'
  keywords: ['konfiguracja', 'Å›rodowisko', 'instalacja', 'setup', 'nuxt']
---

# Konfiguracja Å›rodowiska

::alert{type="info"}
Dokumentacja ta przedstawia kompletny proces konfiguracji Å›rodowiska deweloperskiego dla systemu ATP. PostÄ™puj zgodnie z instrukcjami, aby poprawnie skonfigurowaÄ‡ projekt.
::

## âš™ï¸ Wymagania systemowe

Przed rozpoczÄ™ciem pracy z ATP System upewnij siÄ™, Å¼e speÅ‚niasz nastÄ™pujÄ…ce wymagania:

::list{type="primary"}
- **Node.js** - wersja 16.x lub nowsza
- **PNPM** - wersja 7.x lub nowsza (zalecany menedÅ¼er pakietÃ³w)
- **Git** - dowolna aktualna wersja
- **Edytor kodu** - zalecany Visual Studio Code
::

### Rozszerzenia VS Code

::card{icon="i-heroicons-puzzle-piece"}
#title
Zalecane rozszerzenia VS Code
#description
PoniÅ¼sze rozszerzenia znaczÄ…co uÅ‚atwiÄ… pracÄ™ z projektem:

- **Vue Language Features (Volar)** - wsparcie dla plikÃ³w Vue
- **TypeScript Vue Plugin (Volar)** - integracja TypeScript z Vue
- **ESLint** - linting kodu JavaScript/TypeScript
- **Prettier** - formatowanie kodu
- **Tailwind CSS IntelliSense** - podpowiedzi dla klas Tailwind
- **MDC** - wsparcie dla Markdown Content
::

## ğŸ“¦ Instalacja projektu

::tabs
#tab{name="Klonowanie repozytorium" icon="i-heroicons-code-bracket"}
```bash
git clone [adres-repo] atp-system
cd atp-system
```

#tab{name="Instalacja zaleÅ¼noÅ›ci" icon="i-heroicons-package"}
```bash
pnpm install
```

#tab{name="Konfiguracja Å›rodowiska" icon="i-heroicons-cog"}
```bash
# Skopiuj zmienne Å›rodowiskowe (opcjonalnie)
cp .env.example .env

# Edytuj .env zgodnie z potrzebami
```

#tab{name="Uruchomienie projektu" icon="i-heroicons-play"}
```bash
pnpm dev
```
Aplikacja bÄ™dzie dostÄ™pna pod adresem: `http://localhost:3000`

::callout{type="info"}
ATP System uÅ¼ywa NuxtHub, ktÃ³ry automatycznie konfiguruje bazÄ™ danych SQLite w trybie deweloperskim. Nie ma potrzeby rÄ™cznej inicjalizacji bazy danych.
::
::

## ğŸ”§ Konfiguracja zmiennych Å›rodowiskowych

Przed uruchomieniem aplikacji moÅ¼esz skopiowaÄ‡ plik .env.example do .env:

```bash
cp .env.example .env
```

::code-group
```bash [.env.example]
# Publiczne zmienne Å›rodowiskowe
NUXT_PUBLIC_HELLO_TEXT="Hello from the Edge ğŸ‘‹"

# Dodaj swoje zmienne Å›rodowiskowe poniÅ¼ej:
# NODE_ENV="development"
# DATABASE_URL="file:./data/db.sqlite"
```
::

::callout{type="info"}
Projekt obecnie uÅ¼ywa domyÅ›lnych ustawieÅ„ Nuxt Hub. Zmienne Å›rodowiskowe moÅ¼na konfigurowaÄ‡ wedÅ‚ug potrzeb projektu.
::

::callout{type="warning"}
Nigdy nie udostÄ™pniaj pliku .env z prawdziwymi danymi uwierzytelniajÄ…cymi w repozytorium kodu!
::

## ğŸ“ Struktura projektu

Projekt ATP System ma nastÄ™pujÄ…cÄ… strukturÄ™ katalogÃ³w:

::card{icon="i-heroicons-folder"}
#title
GÅ‚Ã³wna struktura projektu
#description
```
â”œâ”€â”€ app/                # Kod ÅºrÃ³dÅ‚owy aplikacji
â”‚   â”œâ”€â”€ components/     # Komponenty Vue
â”‚   â”œâ”€â”€ composables/    # ReuÅ¼ywalne funkcje (composables)
â”‚   â”œâ”€â”€ layouts/        # UkÅ‚ady stron
â”‚   â”œâ”€â”€ middleware/     # Middleware Nuxt
â”‚   â””â”€â”€ pages/          # Strony aplikacji
â”œâ”€â”€ content/            # TreÅ›ci zarzÄ…dzane przez Nuxt Content
â”œâ”€â”€ public/             # Statyczne pliki publiczne
â”œâ”€â”€ server/             # Kod serwera
â”‚   â”œâ”€â”€ api/            # Endpointy API
â”‚   â”œâ”€â”€ database/       # Definicje bazy danych
â”‚   â”œâ”€â”€ middleware/     # Middleware serwera
â”‚   â””â”€â”€ utils/          # NarzÄ™dzia serwerowe
â”œâ”€â”€ shared/             # Kod wspÃ³Å‚dzielony miÄ™dzy klientem a serwerem
â”‚   â”œâ”€â”€ types/          # Definicje TypeScript
â”‚   â””â”€â”€ utils/          # NarzÄ™dzia wspÃ³Å‚dzielone
â”œâ”€â”€ .nuxt/              # Pliki wygenerowane przez Nuxt (ignorowane w git)
â”œâ”€â”€ .output/            # Pliki wyjÅ›ciowe produkcyjne (ignorowane w git)
â””â”€â”€ nuxt.config.ts      # Konfiguracja Nuxt
```
::

## ğŸš€ Skrypty NPM

ATP System udostÄ™pnia zestaw przydatnych skryptÃ³w:

::list{type="info"}
- `pnpm dev` - uruchamia serwer deweloperski
- `pnpm build` - buduje aplikacjÄ™ produkcyjnÄ…
- `pnpm generate` - generuje statycznÄ… wersjÄ™ aplikacji
- `pnpm preview` - podglÄ…d produkcyjnej aplikacji (NuxtHub)
- `pnpm deploy` - wdroÅ¼enie aplikacji (NuxtHub)
- `pnpm lint` - sprawdza kod pod kÄ…tem bÅ‚Ä™dÃ³w ESLint
- `pnpm db:generate` - generuje migracje bazy danych (Drizzle)
- `pnpm postinstall` - automatycznie uruchamiane po instalacji zaleÅ¼noÅ›ci
::

## ğŸ“ Konfiguracja TypeScript

ATP System wykorzystuje TypeScript dla lepszej jakoÅ›ci kodu. Konfiguracja TypeScript jest zarzÄ…dzana przez Nuxt.js i znajduje siÄ™ w pliku `tsconfig.json`:

```json [tsconfig.json]
{
  // https://nuxt.com/docs/guide/concepts/typescript
  "extends": "./.nuxt/tsconfig.json"
}
```

::callout{type="info"}
Nuxt automatycznie generuje kompletnÄ… konfiguracjÄ™ TypeScript w katalogu `.nuxt/tsconfig.json` na podstawie struktury projektu i uÅ¼ywanych moduÅ‚Ã³w. Nie ma potrzeby rÄ™cznej konfiguracji `compilerOptions`.
::

## ğŸ’š Konfiguracja Nuxt.js

GÅ‚Ã³wna konfiguracja Nuxt.js znajduje siÄ™ w pliku nuxt.config.ts:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  devtools: { enabled: true },
  modules: [
    '@nuxt/ui',
    '@nuxt/content',
    '@nuxtjs/tailwindcss',
    '@nuxtjs/color-mode',
    // ... inne moduÅ‚y
  ],
  experimental: {
    // Eksperymentalne funkcje
    inlineSSRStyles: false,
    viewTransition: true,
    renderJsonPayloads: true
  },
  ui: {
    // Konfiguracja UI
    icons: ['lucide', 'heroicons']
  },
  // ... reszta konfiguracji
})
```

## ğŸ—„ï¸ Konfiguracja bazy danych

### Konfiguracja Drizzle ORM

Konfiguracja Drizzle znajduje siÄ™ w pliku `drizzle.config.ts`:

```ts [drizzle.config.ts]
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
    dialect: 'sqlite',
    schema: './server/database/schema.ts',
    out: './server/database/migrations',
})
```

### Inicjalizacja bazy danych

Baza danych jest automatycznie inicjalizowana przez NuxtHub w katalogu `.data/hub/db.sqlite`. NuxtHub uÅ¼ywa integracji z Drizzle ORM dla zarzÄ…dzania schematem bazy danych.

::callout{type="info"}
Schemat bazy danych jest zdefiniowany w `server/database/schema.ts` i obejmuje modele:
- **users** - uÅ¼ytkownicy systemu
- **roles** - role uÅ¼ytkownikÃ³w
- **userRoles** - przypisania rÃ³l do uÅ¼ytkownikÃ³w
- **userActivities** - dziennik aktywnoÅ›ci uÅ¼ytkownikÃ³w
- **oAuthAccounts** - konta OAuth
- **refreshTokens** - tokeny odÅ›wieÅ¼ania
::

### Migracje bazy danych

System uÅ¼ywa migracji Drizzle ORM, ktÃ³re sÄ… przechowywane w katalogu `server/database/migrations/`:

```sql [server/database/migrations/0000_eager_korg.sql]
CREATE TABLE `users` (
	`id` integer PRIMARY KEY AUTOINCREMENT NOT NULL,
	`username` text NOT NULL,
	`email` text NOT NULL,
	`password` text,
	`avatar_url` text,
	`email_verified` integer DEFAULT 0 NOT NULL,
	`created_at` integer NOT NULL,
	`updated_at` integer
);
--> statement-breakpoint
CREATE TABLE `oauth_accounts` (
	`id` integer PRIMARY KEY AUTOINCREMENT NOT NULL,
	`user_id` integer NOT NULL,
	`provider` text NOT NULL,
	`provider_user_id` text NOT NULL,
	-- ... wiÄ™cej pÃ³l
);
```

Aby wygenerowaÄ‡ nowe migracje na podstawie zmian w schemacie, uÅ¼yj polecenia:

```bash
pnpm db:generate
```

::callout{type="info"}
NuxtHub automatycznie aplikuje migracje podczas deploymentu. W Å›rodowisku deweloperskim baza danych jest automatycznie synchronizowana ze schematem.
::

## ğŸ” Konfiguracja ESLint

ATP System uÅ¼ywa ESLint do statycznej analizy kodu. Konfiguracja znajduje siÄ™ w pliku `eslint.config.mjs`:

```js [eslint.config.mjs]
// @ts-check
import withNuxt from './.nuxt/eslint.config.mjs'

export default withNuxt({
  // Your custom configs here
}).overrideRules({
  'vue/max-attributes-per-line': ['warn', { singleline: 3 }],
})
```

::callout{type="info"}
ESLint jest skonfigurowany przez Nuxt ESLint z automatycznymi reguÅ‚ami dla Vue.js i TypeScript. MoÅ¼na dodawaÄ‡ wÅ‚asne reguÅ‚y w sekcji `rules`.
::

## ğŸ¨ Konfiguracja Tailwind CSS

Konfiguracja Tailwind CSS znajduje siÄ™ w pliku tailwind.config.js:

```js [tailwind.config.js]
export default {
  content: [
    './components/**/*.{js,vue,ts}',
    './layouts/**/*.vue',
    './pages/**/*.vue',
    './plugins/**/*.{js,ts}',
    './app.vue',
    './assets/**/*.css',
    './nuxt.config.{js,ts}'
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          '300': 'var(--color-primary-300)',
          '600': 'var(--color-primary-600)',
          '800': 'var(--color-primary-800)',
          '900': 'var(--color-primary-900)',
        }
      }
    }
  },
  plugins: [
    require('@tailwindcss/typography'),
  ]
}
```

## ğŸ“š Konfiguracja Nuxt Content

ATP System uÅ¼ywa Nuxt Content do zarzÄ…dzania dokumentacjÄ…. Konfiguracja znajduje siÄ™ w pliku `content.config.ts`:

```ts [content.config.ts]
import { defineContentConfig, defineCollection, z } from '@nuxt/content'

export default defineContentConfig({
    collections: {
        docs: defineCollection({
            source: 'docs/**/*.md',
            type: 'page',
            schema: z.object({
                title: z.string().min(1, 'TytuÅ‚ jest wymagany'),
                description: z.string().optional(),
                category: z.enum([
                    'Development',
                    'Administracja',
                    'UÅ¼ytkownicy',
                    // ... inne kategorie
                ]).optional(),
                // ... wiÄ™cej pÃ³l walidacji
            })
        })
    }
})
```

::callout{type="info"}
Schemat walidacji zapewnia zgodnoÅ›Ä‡ wszystkich dokumentÃ³w z okreÅ›lonÄ… strukturÄ… i wymaganymi polami. SprawdÅº peÅ‚nÄ… konfiguracjÄ™ w pliku `content.config.ts`.
::

## ğŸ› Debugowanie i rozwiÄ…zywanie problemÃ³w

::tabs
#tab{name="Typowe problemy" icon="i-heroicons-bug-ant"}
::list{type="warning"}
- **Problem z instalacjÄ… zaleÅ¼noÅ›ci**:
  ```bash
  rm -rf node_modules
  pnpm install
  ```

- **BÅ‚Ä™dy TypeScript**:
  ```bash
  pnpm nuxi typecheck
  ```
  ::callout{type="warning"}
  JeÅ›li pojawiÄ… siÄ™ bÅ‚Ä™dy TypeScript zwiÄ…zane z komponentami UI (kolory, sesje), sprawdÅº zgodnoÅ›Ä‡ wersji `@nuxt/ui` i popraw uÅ¼ywane kolory na dozwolone wartoÅ›ci: `error`, `info`, `primary`, `secondary`, `success`, `warning`, `neutral`.
  ::

- **Problemy z bazÄ… danych** - sprawdÅº czy schemat jest poprawny:
  ```bash
  pnpm db:generate
  ```

- **Czyszczenie cache Nuxt**:
  ```bash
  pnpm nuxi cleanup
  ```

- **Problemy z typami** - regeneruj typy Nuxt:
  ```bash
  pnpm nuxi prepare
  ```
::

#tab{name="Debugowanie Vue" icon="i-heroicons-code-bracket-square"}
Dla debugowania komponenty Vue moÅ¼na uÅ¼ywaÄ‡ Vue DevTools:

1. Zainstaluj rozszerzenie Vue DevTools w przeglÄ…darce
2. Uruchom aplikacjÄ™ w trybie deweloperskim
3. OtwÃ³rz narzÄ™dzia deweloperskie przeglÄ…darki i przejdÅº do zakÅ‚adki Vue

::callout{type="info"}
Nuxt DevTools sÄ… automatycznie dostÄ™pne w trybie deweloperskim pod adresem `/_nuxt-devtools`
::

#tab{name="Logowanie" icon="i-heroicons-document-text"}
Logowanie po stronie serwera:

```ts [server/api/example.ts]
export default defineEventHandler(async (event) => {
  console.log('ObsÅ‚uga zapytania:', event.path)
  
  // UÅ¼ywanie logger'a z Nitro
  const logger = useLogger()
  logger.info('To jest informacja')
  logger.error('To jest bÅ‚Ä…d', { context: 'dodatkowe dane' })
  
  // ...
})
```

WÅ‚Ä…czanie logowania SQL:

```ts [server/database/index.ts]{5}
const _db = drizzle(sqlite, { 
  schema,
  logger: process.env.NODE_ENV === 'development'
})
```
::

## ğŸ› ï¸ NarzÄ™dzia wspomagajÄ…ce

::card{icon="i-heroicons-wrench-screwdriver"}
#title
Przydatne narzÄ™dzia
#description
- **API Client**: UÅ¼ywaj Postman lub Thunder Client (VSCode) do testowania API
- **SQLite Browser**: DB Browser dla SQLite do podglÄ…du i edycji bazy danych
- **Node.js Inspector**: UÅ¼yj `node --inspect` do debugowania kodu Node.js
- **Performance Monitoring**: Nuxt oferuje wbudowane narzÄ™dzia monitorowania wydajnoÅ›ci w trybie deweloperskim
::

## ğŸ“– Zasoby

::alert{type="success"}
PoniÅ¼ej znajdziesz linki do oficjalnej dokumentacji uÅ¼ywanych technologii.
::

::list{type="info"}
- [Dokumentacja Nuxt.js](https://nuxt.com/docs)
- [Dokumentacja Drizzle ORM](https://orm.drizzle.team/docs/overview)
- [Dokumentacja Tailwind CSS](https://tailwindcss.com/docs)
- [Dokumentacja Nuxt UI](https://ui.nuxt.com/)
- [Dokumentacja Nuxt Content](https://content.nuxt.com/)
::

Similar code found with 2 license types